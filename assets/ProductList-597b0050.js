import{R as w}from"./Recommend-8bf453fa.js";import{c as I}from"./cartStore-2a5aa69a.js";import{_ as k,m as y,c as u,b as d,d as t,w as _,t as a,F as f,r as L,e as v,f as n,o as h,j as m,p as S,i as C}from"./index-65aa15c9.js";const N={name:"ProductList",components:{Recommend:w},data(){return{isLoading:!1,paramId:"",product:{},loadingStatus:{loadingItem:""}}},methods:{getProduct(s){this.isLoading=!0;const i=`https://vue3-course-api.hexschool.io/v2/api/shinyhung/product/${s}`;this.$http.get(i).then(o=>{this.product=o.data.product,this.isLoading=!1})},addCart(s,i=1){this.loadingStatus.loadingItem=s;const o={product_id:s,qty:i},r="https://vue3-course-api.hexschool.io/v2/api/shinyhung/cart";this.$http.post(r,{data:o}).then(e=>{this.$swal.fire({icon:"success",title:e.data.message}),this.getCarts(),this.loadingStatus.loadingItem=""}).catch(e=>{this.$swal.fire({icon:"error",title:e.response.data.message})})},...y(I,["getCarts"])},mounted(){this.paramId=this.$route.params.id,this.getProduct(this.paramId)}},l=s=>(S("data-v-05feef03"),s=s(),C(),s),P=l(()=>t("section",{class:"banner"},[t("div",{class:"banner-content-wrap"},[t("h3",{class:"banner-title"},"產品列表")])],-1)),$={class:"container mt-4"},V={"aria-label":"breadcrumb"},B={class:"breadcrumb"},T={class:"breadcrumb-item"},D={class:"breadcrumb-item"},F=l(()=>t("li",{class:"breadcrumb-item active","aria-current":"page"},"單一產品",-1)),R={class:"product-list-title-text"},j={class:"product-list-title"},z={class:"product-list-desc"},A={class:"row g-4 product-list-content"},E={class:"col-md-8 product-list-main"},U={class:"product-list-media-wrap"},q=["src"],G={class:"product-list-text"},H=l(()=>t("h4",{class:"product-list-text-title"},"行程說明",-1)),J={class:"product-list-text-desc"},K=v('<div class="product-list-text" data-v-05feef03><h4 class="product-list-text-title" data-v-05feef03>注意事項</h4><ul class="product-list-text-desc" data-v-05feef03><li data-v-05feef03> 最少出團人數 10 人，當參加人數未達最少成團人數時，將取消旅遊行程。 </li><li data-v-05feef03> 若遇颱風、暴風雪等天候不佳的情況，將於出發前 1 天，，決定是否取消。 </li><li data-v-05feef03>請務必於 20 分鐘前抵達指定地點，逾時不等。</li><li data-v-05feef03>請著輕便服裝、鞋子參加。</li><li data-v-05feef03>請提早 20分鐘至集合地點等候，巴士將準時出發，逾時不等。</li></ul></div><div class="product-list-text" data-v-05feef03><h4 class="product-list-text-title" data-v-05feef03>取消政策</h4><ul class="product-list-text-desc" data-v-05feef03><li data-v-05feef03>出發前21至30天取消訂單，需收取旅遊費用全額10%手續費。</li><li data-v-05feef03>出發前11至20天取消訂單，需收取旅遊費用全額20%手續費。</li><li data-v-05feef03>出發前4至10天取消訂單，需收取旅遊費用全額30%手續費。</li><li data-v-05feef03>出發前1天至3天取消訂單，需收取旅遊費用全額70%手續費。</li><li data-v-05feef03>出發當天取消訂單、因個人因素未通知不參加者恕不退費。</li></ul></div>',2),M={class:"col-md-4 product-list-confirm"},O={class:"form-wrap"},Q=v('<div class="input-group mb-3" data-v-05feef03><label for="date" data-v-05feef03>請選擇時間</label><div class="input-group date" id="datepicker" data-v-05feef03><input type="date" class="form-control" id="date" value="2023-02-22" min="2023-01-01" max="2023-12-31" data-v-05feef03></div><div class="input-group date mt-2" id="datepicker" data-v-05feef03><input type="date" class="form-control" id="date" value="2023-02-22" min="2023-01-01" max="2023-12-31" data-v-05feef03></div></div>',1),W={class:"input-group mb-3"},X=l(()=>t("label",{for:"select-num"},"請選擇人數",-1)),Y={class:"input-group"},Z={class:"form-select","aria-label":"Default select example",id:"select-num"},tt=["value"],et={class:"input-text"},st={class:"price"},it={class:"price"},at=["disabled"];function ot(s,i,o,r,e,g){const b=n("Loading"),p=n("router-link"),x=n("recommend");return h(),u(f,null,[d(b,{active:e.isLoading,"z-index":1e3},null,8,["active"]),P,t("section",$,[t("nav",V,[t("ol",B,[t("li",T,[d(p,{class:"nav-link",to:{path:"/"}},{default:_(()=>[m("首頁")]),_:1})]),t("li",D,[d(p,{class:"nav-link",to:{path:"/products"}},{default:_(()=>[m("產品列表")]),_:1})]),F])]),t("div",R,[t("h3",j,a(e.product.title),1),t("p",z,a(e.product.content),1)]),t("div",A,[t("div",E,[t("div",U,[t("img",{src:e.product.imageUrl,alt:""},null,8,q)]),t("div",G,[H,t("p",J,a(e.product.description),1)]),K]),t("div",M,[t("div",O,[Q,t("div",W,[X,t("div",Y,[t("select",Z,[(h(),u(f,null,L(20,c=>t("option",{value:c,key:c},a(c),9,tt)),64))])])]),t("div",et,[t("del",st,"NT$"+a(e.product.price),1),t("small",it,"NT$"+a(e.product.origin_price),1)])]),t("button",{type:"button",class:"btn btn-primary w-100 text-white",disabled:e.loadingStatus.loadingItem===e.product.id||!e.product.is_enabled,onClick:i[0]||(i[0]=c=>g.addCart(e.product.id))}," 加入購物車 ",8,at)])])]),d(x)],64)}const nt=k(N,[["render",ot],["__scopeId","data-v-05feef03"]]);export{nt as default};
