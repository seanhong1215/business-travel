import{T as m}from"./ToastMessages-8ad803fa.js";import{_ as p,c as v,b as o,d as s,w as n,g as f,K as k,h as g,F as $,f as c,o as d,j as i}from"./index-65aa15c9.js";const x={name:"Dashboard",components:{ToastMessages:m},data(){return{status:!1}},mounted(){this.checkLogin()},methods:{checkLogin(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexschool\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then(()=>{this.status=!0}).catch(t=>{this.$httpMessageState(t.response,"錯誤訊息"),this.$router.push("/login")})},signOut(){const e="https://vue3-course-api.hexschool.io/v2/logout";this.$http.post(e).then(t=>{t.data.success&&this.$router.push("/")}).catch(t=>{this.$swal.fire(`${t.response.data.message}!!!`,"錯誤訊息","error")})}}},w={class:"container-fluid"},b={class:"row dashboard"},B={class:"col-md-2 leftside-menu"},C={class:"h-100 nav-menu"},N={class:"nav-menu-item"},V={class:"nav-menu-item"},y={class:"nav-menu-item"},D={class:"nav-menu-item"},M={class:"col-md-10 main-content"};function O(e,t,T,F,l,r){const h=c("toast-messages"),a=c("router-link"),u=c("router-view");return d(),v($,null,[o(h),s("div",w,[s("div",b,[s("div",B,[s("ul",C,[s("li",N,[o(a,{to:"/admin/products",class:"nav-link"},{default:n(()=>[i("產品")]),_:1})]),s("li",V,[o(a,{to:"/admin/orders",class:"nav-link"},{default:n(()=>[i("訂單")]),_:1})]),s("li",y,[o(a,{to:"/admin/coupons",class:"nav-link"},{default:n(()=>[i("優惠券")]),_:1})]),s("li",D,[s("a",{href:"#",onClick:t[0]||(t[0]=f((..._)=>r.signOut&&r.signOut(..._),["prevent"])),class:"nav-link"},"登出")])])]),s("div",M,[l.status?(d(),k(u,{key:0})):g("",!0)])])])],64)}const z=p(x,[["render",O],["__scopeId","data-v-052258d1"]]);export{z as default};
